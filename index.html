<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pixel Asteroid Avoidance</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    body {
      background-color: #050517;
      color: #fff;
      font-family: 'Press Start 2P', cursive;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      flex-direction: column;
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      background-color: #0e0e24;
      border-radius: 12px;
      box-shadow: 0 0 20px #00ffffaa, 0 0 50px #00ffff55;
      padding: 20px;
    }

    #gameCanvas {
      border: 4px solid #ffffff;
      background-color: #0a0a1a;
      image-rendering: pixelated;
    }

    #ui-container {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      padding: 0 10px;
    }

    #score-display,
    #lives-display {
      font-size: 1em;
      text-shadow: 2px 2px #000;
    }

    .overlay-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      border-radius: 8px;
      transition: opacity 0.5s ease;
    }

    #start-screen {
      opacity: 1;
      visibility: visible;
    }

    #game-over-screen {
      opacity: 0;
      visibility: hidden;
    }

    .overlay-screen h1 {
      font-size: 1.5em;
      color: #ff6b6b;
      margin-bottom: 10px;
      text-shadow: 2px 2px #000;
    }

    #final-score {
      font-size: 1em;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 2px 2px #000;
    }

    .action-button {
      padding: 12px 24px;
      font-size: 0.8em;
      color: #ffffff;
      background-color: #353564;
      border: 2px solid #fff;
      border-radius: 4px;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 3px 3px #111;
    }

    .action-button:hover {
      background-color: #5050a0;
      transform: scale(1.05);
    }

  </style>
</head>
<body>
  <div id="game-container">
    <div id="ui-container">
      <div id="score-display">Score: 0</div>
      <div id="lives-display">Lives: 3</div>
    </div>
    <canvas id="gameCanvas"></canvas>

    <div id="start-screen" class="overlay-screen">
      <h1>Avoid the Asteroids!</h1>
      <p style="font-size: 0.8em;">Use ← and → to move your rocket.</p>
      <button class="action-button" id="startButton">Click to Play</button>
    </div>

    <div id="game-over-screen" class="overlay-screen">
      <h1>Game Over</h1>
      <div id="final-score">Final Score: 0</div>
      <button class="action-button" id="restartButton">Restart</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      const scoreDisplay = document.getElementById("score-display");
      const livesDisplay = document.getElementById("lives-display");
      const startScreen = document.getElementById("start-screen");
      const gameOverScreen = document.getElementById("game-over-screen");
      const finalScoreDisplay = document.getElementById("final-score");
      const startButton = document.getElementById("startButton");
      const restartButton = document.getElementById("restartButton");

      let gameState = "ready";
      let score = 0;
      let lives = 3;
      let player, asteroids;
      let keys = {};

      const playerSpeed = 5;
      const asteroidColor = "#7a7a7a";

      const setCanvasSize = () => {
        canvas.width = Math.min(window.innerWidth - 40, 600);
        canvas.height = Math.min(window.innerHeight - 150, 400);
      };
      setCanvasSize();
      window.addEventListener("resize", setCanvasSize);

      class Player {
        constructor() {
          this.x = canvas.width / 2;
          this.y = canvas.height - 40;
          this.radius = 12;
        }

        draw() {
          // Pixel rocket (like your screenshot!)
          ctx.fillStyle = "#3a7bd5"; // body
          ctx.fillRect(this.x - 5, this.y - 15, 10, 20);

          ctx.fillStyle = "#3a7bd5"; // wings
          ctx.fillRect(this.x - 8, this.y - 5, 16, 4);

          ctx.fillStyle = "#b0b0b0"; // window
          ctx.fillRect(this.x - 2, this.y - 12, 4, 4);

          ctx.fillStyle = "#ff8c00"; // flame base
          ctx.fillRect(this.x - 3, this.y + 5, 6, 5);

          ctx.fillStyle = "#ffff00"; // flame tip
          ctx.fillRect(this.x - 2, this.y + 10, 4, 4);
        }

        update() {
          if (keys["ArrowLeft"] || keys["a"]) this.x -= playerSpeed;
          if (keys["ArrowRight"] || keys["d"]) this.x += playerSpeed;
          if (this.x - this.radius < 0) this.x = this.radius;
          if (this.x + this.radius > canvas.width)
            this.x = canvas.width - this.radius;
        }
      }

      class Asteroid {
        constructor(x, y, radius) {
          this.x = x || Math.random() * canvas.width;
          this.y = y || -20;
          this.radius = radius || (10 + Math.random() * 20);
          this.speedY = 1 + Math.random() * 3;
        }
        draw() {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
          ctx.fillStyle = asteroidColor;
          ctx.fill();
          ctx.closePath();
        }
        update() {
          this.y += this.speedY;
        }
      }

      function init() {
        gameState = "playing";
        score = 0;
        lives = 3;
        player = new Player();
        asteroids = [];
        startScreen.style.opacity = 0;
        startScreen.style.visibility = "hidden";
        gameOverScreen.style.opacity = 0;
        gameOverScreen.style.visibility = "hidden";
        requestAnimationFrame(gameLoop);
      }

      function endGame() {
        gameState = "gameover";
        finalScoreDisplay.textContent = `Final Score: ${score}`;
        gameOverScreen.style.opacity = 1;
        gameOverScreen.style.visibility = "visible";
      }

      function gameLoop() {
        if (gameState !== "playing") return;
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        player.update();
        player.draw();

        if (Math.random() < 0.
